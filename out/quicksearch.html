<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"authentication.js.html":{"id":"authentication.js.html","title":"Source: authentication.js","body":" Audio Bee Modules Authentications Tutorials MySQL Database Source: authentication.js /** * Authentications module * @module Authentications */ const jwt = require('jsonwebtoken'); const Joi = require('joi'); const bcrypt = require('bcrypt'); const { ValidationException } = require('../../exceptions/httpsException'); //Queries const UsersQueries = require('../../queries/users'); const jwtSecretKey = `${process.env.JWT_SECRET_KEY}`; /** * * @param {*} req * @param {*} res * @param {*} next * @returns {json} */ const loginUser = async (req, res, next) =&gt; { const data = req.body; const schema = Joi.object({ email: Joi.string().required().email(), password: Joi.string().required(), }); const validationResult = schema.validate(data, { abortEarly: false }); try { if (validationResult &amp;&amp; validationResult.error) { throw new ValidationException(null, validationResult.error); } const user = await UsersQueries.getUser({ email: data.email }); if (!user || !user.email) { throw new ValidationException(null, 'User Not Registered'); } if ( user &amp;&amp; user.password &amp;&amp; !bcrypt.compareSync(data.password, user.password) ) { throw new ValidationException(null, 'Password did not match'); } const payload = { user_id: user.id, first_name: user.first_name, last_name: user.last_name, email: user.email, role: user.role, }; const token = jwt.sign(payload, jwtSecretKey); res.status(200).json({ user: payload, token, }); } catch (err) { next(err); } }; module.exports = { loginUser, }; × Search results Close Documentation generated by JSDoc 3.6.7 on 2021-06-14T12:05:43+05:45 using the DocStrap template. "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Audio Bee Modules Authentications Tutorials MySQL Database Modules × Search results Close Documentation generated by JSDoc 3.6.7 on 2021-06-14T12:05:43+05:45 using the DocStrap template. "},"tutorials.list.html":{"id":"tutorials.list.html","title":"Tutorials","body":" Audio Bee Modules Authentications Tutorials MySQL Database Tutorials × Search results Close Documentation generated by JSDoc 3.6.7 on 2021-06-14T12:05:43+05:45 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Audio Bee Modules Authentications Tutorials MySQL Database READ ME INTRODUCTION This Readme file will help you in configuring the application and help in understanding the folder structure. CONFIGURATION This section covers the process for configuring and installing the application packages. Install Node.js in your system. In your terminal, run npm init -y &amp;&amp; npm i to install all the packages. Install Eslint and Prettier in your VS Code editor. Use DBeaver or MySQL Workbench for easy database usage. Add .env to your root folder and add all the env contents by communicating with team members. In your terminal, run git flow --init. CheatSheet Use CommonJS (CJS) modules instead of EcmaScript Modules (ESM) because of the synchronous nature of CJS. Use Sequelize for migrations and JOI for validations. Follow AirBnb Style Guide. AirBnb Operating Instructions This section covers the folder structures and the contents that you will find inside each folder. Files and Folders node_modules Default folder created by npm i. controllers This folder contains sub folders that have business logic codes. The sub-folder name should be respective to the business logic inside it. The sub-folder may have multiple files related to similar business logics. The files inside the sub-folder should not contain huge chunks of code, use separate file inside the sub-folder in such case. In the index.js file of the main controllers folder, export all the functions from sub-folders to minimize imports in other folder. queries This folder contains files which has the required Queries for the business logics. The file name should be respective to the queries inside it. Use Sequelize to run queries. Use raw query only when required. In the index.js file of the main queries folder, export all the classes from files to minimize imports in other folder. routes This folder contains files which has APIs for business logics. This folder may contain multiple files to distinguish APIs. database This folder contains sub-folders to distinguish databases. Each sub-folders have sub-sub-folder auto generated by npx sequelize-cli init Migrations are generated inside the migrations sub-sub-folder. Create Table Models inside models sub-sub-folder. More information on Sequelize Migrations. Sequelization enums This folder contains files that define CONSTANTS. exceptions This folder contains files that help in handeling Exceptions in the application. For Example: HttpsExceptions. The exceptions defined in these files are thrown through out the application using TRY CATCH BLOCKS. helpers This folder contains sub-folder and files that have reusable functions. middlewares This folder contains middlewares for the application such as error handling middleware and user authentication middleware. .env Add all the environment variables inside this file. .eslintrc.js Config eslint. Modify eslint rules. .prettierrc Config prettier Modify prettier rules. .sequelize Files These files are used to config sequelizations. These files names are used during migrations and generation of tables. index.js Handles app startup. Handles routes. Handles Global Variables. Handles Middlewares. Use 'npm run doc' to generate jsdoc. × Search results Close Documentation generated by JSDoc 3.6.7 on 2021-06-14T12:05:43+05:45 using the DocStrap template. "},"module-Authentications.html":{"id":"module-Authentications.html","title":"Module: Authentications","body":" Audio Bee Modules Authentications Tutorials MySQL Database Module: Authentications Authentications module Source: authentication.js, line 1 Methods &lt;async, inner&gt; loginUser(req, res, next) Parameters: Name Type Description req * res * next * Source: authentication.js, line 24 Returns: Type json × Search results Close Documentation generated by JSDoc 3.6.7 on 2021-06-14T12:05:43+05:45 using the DocStrap template. "},"tutorial-mySqlDatabase.html":{"id":"tutorial-mySqlDatabase.html","title":"Tutorial: MySQL Database","body":" Audio Bee Modules Authentications Tutorials MySQL Database MySQL Database INTRODUCTION The application will be using MySQL Relational Database as the company business logics are related to relationships between database entities. CONVENTIONS Database Names Singular names with first letter capitalized. (Audiobee) Pascal Casing for names with multiple words. (StagingAudiobee) Only Alpha English Alphabets. Self Explanatory Names. Table Names Singular names to be lowercased. (user) Camel Casing for names with multiple words. (userAddress) Field Names Singular names to be lowercased. (name) Camel Casing for names with multiple words. (firstName) Primary key should be id.(Donot Modify) Normalization Normalization not required as Normalization sometimes creates unnecesary tables. ASR Database Database Tables: country(id, countryName, countryCode, createdAt, updatedAt); languages(id, languageName, languageCode, countryId, createdAt, updatedAt); user(id, firstName, lastName, userName, email, gender, role(client/admin), dateofBirth, password, phoneNumber(opt), deviceName(opt), countryId, nativeLanguageId, createdAt, updatedAt); userProjects(id, projectName, userId, isApproved, languageId, status(completed/notCompleted), isPublished, fileName, fileUrl, audioLength, createdAt, updatedAt); projectDetails(id, projectId, detail, createdAt, updatedAt); projectSplit(id, projectId, fileName, fileUrl, audioLength, createdAt, updatedAt); × Search results Close Documentation generated by JSDoc 3.6.7 on 2021-06-14T12:05:43+05:45 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
